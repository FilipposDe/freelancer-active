[{"C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\reportWebVitals.js":"1","C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\App.js":"2","C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\index.js":"3","C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\components\\Header.js":"4","C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\components\\Projects.js":"5","C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\components\\Filters.js":"6","C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\services\\init.js":"7","C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\services\\firebase.js":"8","C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\services\\projects.js":"9","C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\components\\Overlay.js":"10"},{"size":396,"mtime":1610413843504,"results":"11","hashOfConfig":"12"},{"size":4006,"mtime":1610582363141,"results":"13","hashOfConfig":"12"},{"size":503,"mtime":1610413884961,"results":"14","hashOfConfig":"12"},{"size":1237,"mtime":1610565974801,"results":"15","hashOfConfig":"12"},{"size":1615,"mtime":1610563822535,"results":"16","hashOfConfig":"12"},{"size":3098,"mtime":1610548310114,"results":"17","hashOfConfig":"12"},{"size":809,"mtime":1610470912299,"results":"18","hashOfConfig":"12"},{"size":2568,"mtime":1610509204199,"results":"19","hashOfConfig":"12"},{"size":5057,"mtime":1610584106850,"results":"20","hashOfConfig":"12"},{"size":275,"mtime":1610564045874,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"zlrmw8",{"filePath":"25","messages":"26","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"24"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"24"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"24"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"24"},"C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\reportWebVitals.js",[],["47","48"],"C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\App.js",["49","50","51","52"],"import React, { useEffect, useReducer, useState } from \"react\"\nimport \"./App.css\"\n\nimport { logoutUser, getFirestore } from \"./services/firebase\"\nimport Filters from \"./components/Filters\"\nimport Header from \"./components/Header\"\nimport Overlay from \"./components/Overlay\"\nimport Projects from \"./components/Projects\"\nimport { useInit } from \"./services/init\"\nimport { useProjects } from \"./services/projects\"\n\n\nfunction App() {\n\n    // useReducer(reducer, initializerArg, initializer)\n\n    // const [ user, setUser] = useState( null )\n    // const [ userData, setUserData] = useState( {} )\n\n    \n    const [ loading, setLoading ] = useState( false )\n    const [ theme, setTheme ] = useState( \"light\" )\n\n    const [ savedProjects, setSavedProjects ] = useState( {} )\n\n    // const [ savedCount, setSavedCount ] = useState( 0 )\n    const [ isFilterOpen, setIsFilterOpen ] = useState( false )\n\n\n    \n\n    const { \n        user, \n        setUser, \n        userData \n    } = useInit(setLoading)\n\n    const { \n        projects,\n        listMessage: message, \n        updateFilter,\n    } = useProjects( loading, setLoading)\n\n\n\n    useEffect(() => {\n\n        window.addEventListener(\"scroll\", () => {\n\n            // Scroll to top\n            if ( window.scrollY < 150 ) {\n                document.querySelector( \".scroll-top-btn\" ).classList.add( \"hidden\" )\n            } else {\n                document.querySelector( \".scroll-top-btn\" ).classList.remove( \"hidden\" )\n            }\n\n        })\n        \n    }, [])\n    \n    function onNewFilterFunction( filter ) {\n        updateFilter( filter )\n    }\n\n \n\n    function handleThemeChange() {\n        theme === \"light\" ? setTheme( \"dark\" ) : setTheme( \"light\" )\n    }\n\n\n    function handleSave( project ) {\n        setSavedProjects({ ...savedProjects, [project.id]: project })\n    }\n\n    function handleOpenSaved() {\n\n        // Open saved projects in new window\n        Object.keys(savedProjects).forEach( function( id ) {\n            let win = window.open( savedProjects[id].url + \"/details\", \"_blank\" )\n            if ( !win ) return alert( \"Please allow popups for this website\" )\n            win.focus()\n        } )\n\n        setSavedProjects( {} )\n\n    }\n\n\n    function handleHelp() {\n        alert( \"Click on a project card to save, click on the bottom right button to open saved projects in new tabs.\" )\n    }\n\n\n    function handleToggleFilter() {\n        setIsFilterOpen( !isFilterOpen )\n    }\n\n    \n\n    async function handleLogout() {\n        await logoutUser()\n        setUser(null)\n    }\n\n\n\n    if ( !user ) {\n        return <Overlay />\n    }\n\n\n\n    return (\n\n        <>\n\n            <Header\n                handleThemeChange={ handleThemeChange}\n                handleHelp={ handleHelp}\n                handleLogout={ handleLogout}\n            />\n\n\n            <main>\n\n\n                <Projects\n                    projects={ projects }\n                    handleSave={ handleSave }\n                />\n\n                <Filters\n                    className={ isFilterOpen ? \"on\" : \"off\" }\n                    handleNewFilterFunction={ onNewFilterFunction }\n                />\n\n                <button\n                    onClick={ handleOpenSaved }\n                    className={ `open-all-btn ${ isFilterOpen ? \"hidden\" : \"\" }` }\n                    disabled={ Object.keys(savedProjects).length === 0 }\n                >\n                    { Object.keys(savedProjects).length }\n                </button>\n\n                <button\n                    onClick={ e => window.scrollTo( 0, 0 ) }\n                    className=\"scroll-top-btn\"\n                >\n                </button>\n\n                <button\n                    onClick={ handleToggleFilter }\n                    className=\"open-filter-btn\"\n                >\n                    F\n                </button>\n\n\n\n                { loading &&\n                    <div className=\"loading-card spinning\"></div>\n                }\n\n            </main>\n        </>\n    )\n}\n\nexport default App","C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\index.js",[],"C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\components\\Header.js",[],"C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\components\\Projects.js",[],"C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\components\\Filters.js",[],"C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\services\\init.js",["53"],"import { useEffect, useState } from \"react\"\r\nimport { initializeFirebase, authenticateFirebase, getFirestore, getUserDoc } from \"./firebase\"\r\n\r\nexport function useInit( setLoading ) {\r\n\r\n    const [user, setUser] = useState(null)\r\n    const [userData, setUserData] = useState({})\r\n\r\n    async function onAuthChanged( firebaseUser ) {\r\n        setUser( firebaseUser )\r\n        \r\n        const data = firebaseUser ? await getUserDoc( firebaseUser ) : {}\r\n        setUserData( data )\r\n        \r\n        setLoading( false )\r\n    }\r\n    \r\n    \r\n    useEffect(() => {\r\n        \r\n        setLoading( true )\r\n        \r\n        // Initialize Firebase\r\n        initializeFirebase()\r\n\r\n        // Authenticate\r\n        authenticateFirebase( onAuthChanged )\r\n        \r\n    }, [])\r\n\r\n\r\n    return { user, userData }\r\n\r\n\r\n}","C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\services\\firebase.js",["54","55","56"],"import firebase from \"firebase/app\"\r\nimport \"firebase/auth\"\r\nimport \"firebase/firestore\"\r\nimport \"firebase/analytics\"\r\n\r\nexport function initializeFirebase() {\r\n\r\n    if ( firebase.apps.length ) return\r\n\r\n    const firebaseConfig = {\r\n        apiKey: process.env.REACT_APP_API_KEY,\r\n        authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n        projectId: process.env.REACT_APP_PROJECT_ID,\r\n        storageBucket: process.env.REACT_APP_STORABE_BUCKET,\r\n        messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n        appId: process.env.REACT_APP_APP_ID,\r\n        measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n    }\r\n\r\n    firebase.initializeApp( firebaseConfig )\r\n\r\n}\r\n\r\nexport function authenticateFirebase( onAuthChangedCb ) {\r\n\r\n    const provider = new firebase.auth.GoogleAuthProvider()\r\n    \r\n    // On auth change\r\n    firebase.auth().onAuthStateChanged( function( user ) {\r\n\r\n        onAuthChangedCb( user )\r\n        \r\n\r\n        if ( !user ) {\r\n            // Authenticate\r\n            try {\r\n                firebase.auth().signInWithPopup( provider )\r\n            } catch ( error ) {\r\n                const { code, message } = error\r\n                console.error( message )\r\n                throw new Error(\"Unable to authenticate user\")\r\n            }\r\n        }\r\n    } )\r\n    \r\n    \r\n    \r\n}\r\n\r\n\r\nexport async function logoutUser() {\r\n    try {\r\n        await firebase.auth().signOut()\r\n    } catch (error) {\r\n        const { code, message } = error\r\n        console.error( error )\r\n        throw new Error(\"Sign out failed\")\r\n    }\r\n} \r\n\r\n\r\nexport function getFirestore() {\r\n    return firebase.firestore()\r\n}\r\n\r\n\r\nexport async function getUserDoc( user ) {\r\n    const db = firebase.firestore()\r\n    const docRef = db.collection(\"users\").doc( user.uid )\r\n    \r\n    let doc\r\n    try {\r\n        doc = await docRef.get()\r\n    } catch (error) {\r\n        console.error(error)\r\n        throw new Error(\"Error while accessing user data\")        \r\n    }\r\n    \r\n    // Create new document if user does not exist\r\n    if (!doc.exists) {\r\n        try {\r\n\r\n            const newData = {\r\n                uid: user.uid,\r\n                email: user.email,\r\n                options: {},\r\n            }\r\n            \r\n            // Merge to avoid overwrite\r\n            await docRef.set( newData, { merge: true })\r\n            return newData\r\n\r\n        } catch (error) {\r\n            console.error(error)\r\n            throw new Error(\"Error while creating new user data\")   \r\n        }\r\n        \r\n    }\r\n\r\n    return doc.data()\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\services\\projects.js",[],"C:\\Users\\phili\\test1\\fl-active\\freelancer-active\\src\\components\\Overlay.js",["57"],"import React from \"react\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nconst Overlay = props => {\r\n    return (\r\n        <div>\r\n            Please login\r\n            <div className=\"overlay\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nOverlay.propTypes = {\r\n\r\n}\r\n\r\nexport default Overlay\r\n",{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","severity":1,"message":"63","line":1,"column":28,"nodeType":"64","messageId":"65","endLine":1,"endColumn":38},{"ruleId":"62","severity":1,"message":"66","line":4,"column":22,"nodeType":"64","messageId":"65","endLine":4,"endColumn":34},{"ruleId":"62","severity":1,"message":"67","line":35,"column":9,"nodeType":"64","messageId":"65","endLine":35,"endColumn":17},{"ruleId":"62","severity":1,"message":"68","line":40,"column":22,"nodeType":"64","messageId":"65","endLine":40,"endColumn":29},{"ruleId":"62","severity":1,"message":"66","line":2,"column":52,"nodeType":"64","messageId":"65","endLine":2,"endColumn":64},{"ruleId":"62","severity":1,"message":"69","line":39,"column":25,"nodeType":"64","messageId":"65","endLine":39,"endColumn":29},{"ruleId":"62","severity":1,"message":"69","line":55,"column":17,"nodeType":"64","messageId":"65","endLine":55,"endColumn":21},{"ruleId":"62","severity":1,"message":"68","line":55,"column":23,"nodeType":"64","messageId":"65","endLine":55,"endColumn":30},{"ruleId":"62","severity":1,"message":"70","line":2,"column":8,"nodeType":"64","messageId":"65","endLine":2,"endColumn":17},"no-native-reassign",["71"],"no-negated-in-lhs",["72"],"no-unused-vars","'useReducer' is defined but never used.","Identifier","unusedVar","'getFirestore' is defined but never used.","'userData' is assigned a value but never used.","'message' is assigned a value but never used.","'code' is assigned a value but never used.","'PropTypes' is defined but never used.","no-global-assign","no-unsafe-negation"]